import cookielib
import urllib
import urllib2
import time

# Store the cookies and create an opener that will hold them
cj = cookielib.CookieJar()
opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj))

# Add our headers
opener.addheaders = [('User-agent', 'InteractTesting')]

# Install our opener (note that this changes the global opener to the one
# we just made, but you can also just call opener.open() if you want)
urllib2.install_opener(opener)

# The action/ target from the form
authentication_url = 'http://www.mustafa.com.sg/frmForexNew.aspx'

# Input parameters we are going to send
payload = {
	#'__VIEWSTATE': '/wEPDwUINjA2ODk5ODIPZBYCZg9kFgICAw9kFgICAQ9kFgICAQ9kFgICAw8QDxYEHg5EYXRhVmFsdWVGaWVsZAUHY3VybmFtZR4LXyFEYXRhQm91bmRnZBAVIRFTaW5nYXBvcmUgRG9sbGFycx5BdXN0cmFsaWFuIERvbGxhcnMgICAgICAgICAgICAeQ2hpbmVzZSBSZW5taW1iaSAgICAgICAgICAgICAgHkhvbmdLb25nIERvbGxhcnMgICAgICAgICAgICAgIB5JbmRpYW4gUnVwZWVzICAgICAgICAgICAgICAgICAeSW5kb25lc2lhbiBSdXBpYWggICAgICAgICAgICAgHkphcGFuZXNlIFllbiAgICAgICAgICAgICAgICAgIB5NYWxheXNpYW4gUmluZ2dpdCAgICAgICAgICAgICAeTmV3IFplYWxhbmQgRG9sbGFycyAgICAgICAgICAgHlBha2lzdGFuaSBSdXBlZXMgICAgICAgICAgICAgIB5QaGlsaXBwaW5lcyBQZXNvcyAgICAgICAgICAgICAeU2luZ2Fwb3JlIERvbGxhcnMgICAgICAgICAgICAgHlNvdXRoIEtvcmVhbiBXb24gICAgICAgICAgICAgIB5TcmlsYW5rYSBSdXBlZXMgICAgICAgICAgICAgICAeVGFpd2FuIERvbGxhcnMgICAgICAgICAgICAgICAgHlRoYWkgQmhhdCAgICAgICAgICAgICAgICAgICAgIB5BbWVyaWNhbiBEb2xsYXJzICAgICAgICAgICAgICAeQ2FuYWRpYW4gRG9sbGFycyAgICAgICAgICAgICAgHkJyaXRpc2ggUG91bmRzICAgICAgICAgICAgICAgIB5EYW5pc2ggS3JvbmVyICAgICAgICAgICAgICAgICAeRXVybyBEb2xsYXJzICAgICAgICAgICAgICAgICAgHk5vcndlZ2lhbiBLcm9uZXIgICAgICAgICAgICAgIB5Td2lzcyBGcmFuY3MgICAgICAgICAgICAgICAgICAeQmFocmFpbiBEaW5hciAgICAgICAgICAgICAgICAgHkVneXB0aWFuIFBvdW5kcyAgICAgICAgICAgICAgIB5Kb3JkYW5pYW4gRGluYXIgICAgICAgICAgICAgICAeS2F0YXIgUmlhbCAgICAgICAgICAgICAgICAgICAgHkt1d2FpdCBEaW5hciAgICAgICAgICAgICAgICAgIB5NYXVyaXRpdXMgUlBTICAgICAgICAgICAgICAgICAeT21hbiBSaWFsICAgICAgICAgICAgICAgICAgICAgHlNhdWRpIEFyYWJpYW4gUml5YWwgICAgICAgICAgIB5Tb3V0aCBBZnJpY2FuIFJhbmQgICAgICAgICAgICAeVW5pdGVkIEFyYWIgRW1pcmF0ZXMgICAgICAgICAgFSERU2luZ2Fwb3JlIERvbGxhcnMeQXVzdHJhbGlhbiBEb2xsYXJzICAgICAgICAgICAgHkNoaW5lc2UgUmVubWltYmkgICAgICAgICAgICAgIB5Ib25nS29uZyBEb2xsYXJzICAgICAgICAgICAgICAeSW5kaWFuIFJ1cGVlcyAgICAgICAgICAgICAgICAgHkluZG9uZXNpYW4gUnVwaWFoICAgICAgICAgICAgIB5KYXBhbmVzZSBZZW4gICAgICAgICAgICAgICAgICAeTWFsYXlzaWFuIFJpbmdnaXQgICAgICAgICAgICAgHk5ldyBaZWFsYW5kIERvbGxhcnMgICAgICAgICAgIB5QYWtpc3RhbmkgUnVwZWVzICAgICAgICAgICAgICAeUGhpbGlwcGluZXMgUGVzb3MgICAgICAgICAgICAgHlNpbmdhcG9yZSBEb2xsYXJzICAgICAgICAgICAgIB5Tb3V0aCBLb3JlYW4gV29uICAgICAgICAgICAgICAeU3JpbGFua2EgUnVwZWVzICAgICAgICAgICAgICAgHlRhaXdhbiBEb2xsYXJzICAgICAgICAgICAgICAgIB5UaGFpIEJoYXQgICAgICAgICAgICAgICAgICAgICAeQW1lcmljYW4gRG9sbGFycyAgICAgICAgICAgICAgHkNhbmFkaWFuIERvbGxhcnMgICAgICAgICAgICAgIB5Ccml0aXNoIFBvdW5kcyAgICAgICAgICAgICAgICAeRGFuaXNoIEtyb25lciAgICAgICAgICAgICAgICAgHkV1cm8gRG9sbGFycyAgICAgICAgICAgICAgICAgIB5Ob3J3ZWdpYW4gS3JvbmVyICAgICAgICAgICAgICAeU3dpc3MgRnJhbmNzICAgICAgICAgICAgICAgICAgHkJhaHJhaW4gRGluYXIgICAgICAgICAgICAgICAgIB5FZ3lwdGlhbiBQb3VuZHMgICAgICAgICAgICAgICAeSm9yZGFuaWFuIERpbmFyICAgICAgICAgICAgICAgHkthdGFyIFJpYWwgICAgICAgICAgICAgICAgICAgIB5LdXdhaXQgRGluYXIgICAgICAgICAgICAgICAgICAeTWF1cml0aXVzIFJQUyAgICAgICAgICAgICAgICAgHk9tYW4gUmlhbCAgICAgICAgICAgICAgICAgICAgIB5TYXVkaSBBcmFiaWFuIFJpeWFsICAgICAgICAgICAeU291dGggQWZyaWNhbiBSYW5kICAgICAgICAgICAgHlVuaXRlZCBBcmFiIEVtaXJhdGVzICAgICAgICAgIBQrAyFnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dkZBgBBR5fX0NvbnRyb2xzUmVxdWlyZVBvc3RCYWNrS2V5X18WAQUmY3RsMDAkTWFpbkNvbnRlbnQkaWRGb3JleCRJbWFnZUJ1dHRvbjEHD/QW6vxzXbFVXaskGx5vM4O4UQ==',
	'__VIEWSTATE': '/wEPDwUINjA2ODk5ODIPZBYCZg9kFgICAw9kFgICAQ9kFgICAQ9kFgICAw8QDxYEHg5EYXRhVmFsdWVGaWVsZAUHY3VybmFtZR4LXyFEYXRhQm91bmRnZBAVIRFTaW5nYXBvcmUgRG9sbGFycx5BdXN0cmFsaWFuIERvbGxhcnMgICAgICAgICAgICAeQ2hpbmVzZSBSZW5taW1iaSAgICAgICAgICAgICAgHkhvbmdLb25nIERvbGxhcnMgICAgICAgICAgICAgIB5JbmRpYW4gUnVwZWVzICAgICAgICAgICAgICAgICAeSW5kb25lc2lhbiBSdXBpYWggICAgICAgICAgICAgHkphcGFuZXNlIFllbiAgICAgICAgICAgICAgICAgIB5NYWxheXNpYW4gUmluZ2dpdCAgICAgICAgICAgICAeTmV3IFplYWxhbmQgRG9sbGFycyAgICAgICAgICAgHlBha2lzdGFuaSBSdXBlZXMgICAgICAgICAgICAgIB5QaGlsaXBwaW5lcyBQZXNvcyAgICAgICAgICAgICAeU2luZ2Fwb3JlIERvbGxhcnMgICAgICAgICAgICAgHlNvdXRoIEtvcmVhbiBXb24gICAgICAgICAgICAgIB5TcmlsYW5rYSBSdXBlZXMgICAgICAgICAgICAgICAeVGFpd2FuIERvbGxhcnMgICAgICAgICAgICAgICAgHlRoYWkgQmhhdCAgICAgICAgICAgICAgICAgICAgIB5BbWVyaWNhbiBEb2xsYXJzICAgICAgICAgICAgICAeQ2FuYWRpYW4gRG9sbGFycyAgICAgICAgICAgICAgHkJyaXRpc2ggUG91bmRzICAgICAgICAgICAgICAgIB5EYW5pc2ggS3JvbmVyICAgICAgICAgICAgICAgICAeRXVybyBEb2xsYXJzICAgICAgICAgICAgICAgICAgHk5vcndlZ2lhbiBLcm9uZXIgICAgICAgICAgICAgIB5Td2lzcyBGcmFuY3MgICAgICAgICAgICAgICAgICAeQmFocmFpbiBEaW5hciAgICAgICAgICAgICAgICAgHkVneXB0aWFuIFBvdW5kcyAgICAgICAgICAgICAgIB5Kb3JkYW5pYW4gRGluYXIgICAgICAgICAgICAgICAeS2F0YXIgUmlhbCAgICAgICAgICAgICAgICAgICAgHkt1d2FpdCBEaW5hciAgICAgICAgICAgICAgICAgIB5NYXVyaXRpdXMgUlBTICAgICAgICAgICAgICAgICAeT21hbiBSaWFsICAgICAgICAgICAgICAgICAgICAgHlNhdWRpIEFyYWJpYW4gUml5YWwgICAgICAgICAgIB5Tb3V0aCBBZnJpY2FuIFJhbmQgICAgICAgICAgICAeVW5pdGVkIEFyYWIgRW1pcmF0ZXMgICAgICAgICAgFSERU2luZ2Fwb3JlIERvbGxhcnMeQXVzdHJhbGlhbiBEb2xsYXJzICAgICAgICAgICAgHkNoaW5lc2UgUmVubWltYmkgICAgICAgICAgICAgIB5Ib25nS29uZyBEb2xsYXJzICAgICAgICAgICAgICAeSW5kaWFuIFJ1cGVlcyAgICAgICAgICAgICAgICAgHkluZG9uZXNpYW4gUnVwaWFoICAgICAgICAgICAgIB5KYXBhbmVzZSBZZW4gICAgICAgICAgICAgICAgICAeTWFsYXlzaWFuIFJpbmdnaXQgICAgICAgICAgICAgHk5ldyBaZWFsYW5kIERvbGxhcnMgICAgICAgICAgIB5QYWtpc3RhbmkgUnVwZWVzICAgICAgICAgICAgICAeUGhpbGlwcGluZXMgUGVzb3MgICAgICAgICAgICAgHlNpbmdhcG9yZSBEb2xsYXJzICAgICAgICAgICAgIB5Tb3V0aCBLb3JlYW4gV29uICAgICAgICAgICAgICAeU3JpbGFua2EgUnVwZWVzICAgICAgICAgICAgICAgHlRhaXdhbiBEb2xsYXJzICAgICAgICAgICAgICAgIB5UaGFpIEJoYXQgICAgICAgICAgICAgICAgICAgICAeQW1lcmljYW4gRG9sbGFycyAgICAgICAgICAgICAgHkNhbmFkaWFuIERvbGxhcnMgICAgICAgICAgICAgIB5Ccml0aXNoIFBvdW5kcyAgICAgICAgICAgICAgICAeRGFuaXNoIEtyb25lciAgICAgICAgICAgICAgICAgHkV1cm8gRG9sbGFycyAgICAgICAgICAgICAgICAgIB5Ob3J3ZWdpYW4gS3JvbmVyICAgICAgICAgICAgICAeU3dpc3MgRnJhbmNzICAgICAgICAgICAgICAgICAgHkJhaHJhaW4gRGluYXIgICAgICAgICAgICAgICAgIB5FZ3lwdGlhbiBQb3VuZHMgICAgICAgICAgICAgICAeSm9yZGFuaWFuIERpbmFyICAgICAgICAgICAgICAgHkthdGFyIFJpYWwgICAgICAgICAgICAgICAgICAgIB5LdXdhaXQgRGluYXIgICAgICAgICAgICAgICAgICAeTWF1cml0aXVzIFJQUyAgICAgICAgICAgICAgICAgHk9tYW4gUmlhbCAgICAgICAgICAgICAgICAgICAgIB5TYXVkaSBBcmFiaWFuIFJpeWFsICAgICAgICAgICAeU291dGggQWZyaWNhbiBSYW5kICAgICAgICAgICAgHlVuaXRlZCBBcmFiIEVtaXJhdGVzICAgICAgICAgIBQrAyFnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dkZBgBBR5fX0NvbnRyb2xzUmVxdWlyZVBvc3RCYWNrS2V5X18WAQUmY3RsMDAkTWFpbkNvbnRlbnQkaWRGb3JleCRJbWFnZUJ1dHRvbjEHD/QW6vxzXbFVXaskGx5vM4O4UQ==',
	#'__EVENTVALIDATION': '/wEWJAKVgP/GDAKD+MHTAwKK5d6rAgL92eqhCALOi7CgCgLGoOrbCALOyLjUDgK9y5DhAgLh1JmPAgLr+umaBALZ9NauDQLSreviCQKB5+mqBgKx1aa9AwLvspDaCgLB9e20CgLp1prDBgLIjZX0CQL3qpeRDgLKi7yyCQLjz/LqBQK385jhCwLV+6iwBQLLsJ7sDAKOopL4DQKSnbvwAQLtrda9DwKOrOptAq6TtasLApTfvTMC0dHRig4CgLeEjQUCpaDg1QECwbTziAEChpSj6QUCpbSMhg633lrAUOdAkBcpLXlLnnPqP4mZGw==',
	'__EVENTVALIDATION': '/wEWJAKVgP/GDAKD+MHTAwKK5d6rAgL92eqhCALOi7CgCgLGoOrbCALOyLjUDgK9y5DhAgLh1JmPAgLr+umaBALZ9NauDQLSreviCQKB5+mqBgKx1aa9AwLvspDaCgLB9e20CgLp1prDBgLIjZX0CQL3qpeRDgLKi7yyCQLjz/LqBQK385jhCwLV+6iwBQLLsJ7sDAKOopL4DQKSnbvwAQLtrda9DwKOrOptAq6TtasLApTfvTMC0dHRig4CgLeEjQUCpaDg1QECwbTziAEChpSj6QUCpbSMhg633lrAUOdAkBcpLXlLnnPqP4mZGw==',
	'ctl00$MainContent$idForex$dbtCountryName': 'Malaysian Ringgit             ',
	'ctl00$MainContent$idForex$dblUnit': '1',
	'ctl00$MainContent$idForex$ImageButton1.x': '46',
	'ctl00$MainContent$idForex$ImageButton1.y': '19'
}

# Use urllib to encode the payload
data = urllib.urlencode(payload)
#data = '__VIEWSTATE=%2FwEPDwUINjA2ODk5ODIPZBYCZg9kFgICAw9kFgICAQ9kFgICAQ9kFgICAw8QDxYEHg5EYXRhVmFsdWVGaWVsZAUHY3VybmFtZR4LXyFEYXRhQm91bmRnZBAVIRFTaW5nYXBvcmUgRG9sbGFycx5BdXN0cmFsaWFuIERvbGxhcnMgICAgICAgICAgICAeQ2hpbmVzZSBSZW5taW1iaSAgICAgICAgICAgICAgHkhvbmdLb25nIERvbGxhcnMgICAgICAgICAgICAgIB5JbmRpYW4gUnVwZWVzICAgICAgICAgICAgICAgICAeSW5kb25lc2lhbiBSdXBpYWggICAgICAgICAgICAgHkphcGFuZXNlIFllbiAgICAgICAgICAgICAgICAgIB5NYWxheXNpYW4gUmluZ2dpdCAgICAgICAgICAgICAeTmV3IFplYWxhbmQgRG9sbGFycyAgICAgICAgICAgHlBha2lzdGFuaSBSdXBlZXMgICAgICAgICAgICAgIB5QaGlsaXBwaW5lcyBQZXNvcyAgICAgICAgICAgICAeU2luZ2Fwb3JlIERvbGxhcnMgICAgICAgICAgICAgHlNvdXRoIEtvcmVhbiBXb24gICAgICAgICAgICAgIB5TcmlsYW5rYSBSdXBlZXMgICAgICAgICAgICAgICAeVGFpd2FuIERvbGxhcnMgICAgICAgICAgICAgICAgHlRoYWkgQmhhdCAgICAgICAgICAgICAgICAgICAgIB5BbWVyaWNhbiBEb2xsYXJzICAgICAgICAgICAgICAeQ2FuYWRpYW4gRG9sbGFycyAgICAgICAgICAgICAgHkJyaXRpc2ggUG91bmRzICAgICAgICAgICAgICAgIB5EYW5pc2ggS3JvbmVyICAgICAgICAgICAgICAgICAeRXVybyBEb2xsYXJzICAgICAgICAgICAgICAgICAgHk5vcndlZ2lhbiBLcm9uZXIgICAgICAgICAgICAgIB5Td2lzcyBGcmFuY3MgICAgICAgICAgICAgICAgICAeQmFocmFpbiBEaW5hciAgICAgICAgICAgICAgICAgHkVneXB0aWFuIFBvdW5kcyAgICAgICAgICAgICAgIB5Kb3JkYW5pYW4gRGluYXIgICAgICAgICAgICAgICAeS2F0YXIgUmlhbCAgICAgICAgICAgICAgICAgICAgHkt1d2FpdCBEaW5hciAgICAgICAgICAgICAgICAgIB5NYXVyaXRpdXMgUlBTICAgICAgICAgICAgICAgICAeT21hbiBSaWFsICAgICAgICAgICAgICAgICAgICAgHlNhdWRpIEFyYWJpYW4gUml5YWwgICAgICAgICAgIB5Tb3V0aCBBZnJpY2FuIFJhbmQgICAgICAgICAgICAeVW5pdGVkIEFyYWIgRW1pcmF0ZXMgICAgICAgICAgFSERU2luZ2Fwb3JlIERvbGxhcnMeQXVzdHJhbGlhbiBEb2xsYXJzICAgICAgICAgICAgHkNoaW5lc2UgUmVubWltYmkgICAgICAgICAgICAgIB5Ib25nS29uZyBEb2xsYXJzICAgICAgICAgICAgICAeSW5kaWFuIFJ1cGVlcyAgICAgICAgICAgICAgICAgHkluZG9uZXNpYW4gUnVwaWFoICAgICAgICAgICAgIB5KYXBhbmVzZSBZZW4gICAgICAgICAgICAgICAgICAeTWFsYXlzaWFuIFJpbmdnaXQgICAgICAgICAgICAgHk5ldyBaZWFsYW5kIERvbGxhcnMgICAgICAgICAgIB5QYWtpc3RhbmkgUnVwZWVzICAgICAgICAgICAgICAeUGhpbGlwcGluZXMgUGVzb3MgICAgICAgICAgICAgHlNpbmdhcG9yZSBEb2xsYXJzICAgICAgICAgICAgIB5Tb3V0aCBLb3JlYW4gV29uICAgICAgICAgICAgICAeU3JpbGFua2EgUnVwZWVzICAgICAgICAgICAgICAgHlRhaXdhbiBEb2xsYXJzICAgICAgICAgICAgICAgIB5UaGFpIEJoYXQgICAgICAgICAgICAgICAgICAgICAeQW1lcmljYW4gRG9sbGFycyAgICAgICAgICAgICAgHkNhbmFkaWFuIERvbGxhcnMgICAgICAgICAgICAgIB5Ccml0aXNoIFBvdW5kcyAgICAgICAgICAgICAgICAeRGFuaXNoIEtyb25lciAgICAgICAgICAgICAgICAgHkV1cm8gRG9sbGFycyAgICAgICAgICAgICAgICAgIB5Ob3J3ZWdpYW4gS3JvbmVyICAgICAgICAgICAgICAeU3dpc3MgRnJhbmNzICAgICAgICAgICAgICAgICAgHkJhaHJhaW4gRGluYXIgICAgICAgICAgICAgICAgIB5FZ3lwdGlhbiBQb3VuZHMgICAgICAgICAgICAgICAeSm9yZGFuaWFuIERpbmFyICAgICAgICAgICAgICAgHkthdGFyIFJpYWwgICAgICAgICAgICAgICAgICAgIB5LdXdhaXQgRGluYXIgICAgICAgICAgICAgICAgICAeTWF1cml0aXVzIFJQUyAgICAgICAgICAgICAgICAgHk9tYW4gUmlhbCAgICAgICAgICAgICAgICAgICAgIB5TYXVkaSBBcmFiaWFuIFJpeWFsICAgICAgICAgICAeU291dGggQWZyaWNhbiBSYW5kICAgICAgICAgICAgHlVuaXRlZCBBcmFiIEVtaXJhdGVzICAgICAgICAgIBQrAyFnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dkZBgBBR5fX0NvbnRyb2xzUmVxdWlyZVBvc3RCYWNrS2V5X18WAQUmY3RsMDAkTWFpbkNvbnRlbnQkaWRGb3JleCRJbWFnZUJ1dHRvbjEHD%2FQW6vxzXbFVXaskGx5vM4O4UQ%3D%3D&__EVENTVALIDATION=%2FwEWJAKVgP%2FGDAKD%2BMHTAwKK5d6rAgL92eqhCALOi7CgCgLGoOrbCALOyLjUDgK9y5DhAgLh1JmPAgLr%2BumaBALZ9NauDQLSreviCQKB5%2BmqBgKx1aa9AwLvspDaCgLB9e20CgLp1prDBgLIjZX0CQL3qpeRDgLKi7yyCQLjz%2FLqBQK385jhCwLV%2B6iwBQLLsJ7sDAKOopL4DQKSnbvwAQLtrda9DwKOrOptAq6TtasLApTfvTMC0dHRig4CgLeEjQUCpaDg1QECwbTziAEChpSj6QUCpbSMhg633lrAUOdAkBcpLXlLnnPqP4mZGw%3D%3D&ctl00%24MainContent%24idForex%24dbtCountryName=Malaysian+Ringgit+++++++++++++&ctl00%24MainContent%24idForex%24dblUnit=1&ctl00%24MainContent%24idForex%24ImageButton1.x=46&ctl00%24MainContent%24idForex%24ImageButton1.y=19'

# Build our Request object (supplying 'data' makes it a POST)
req = urllib2.Request(authentication_url, data)

# Make the request and read the response
try:
	resp = urllib2.urlopen(req)
	contents = resp.read()
except urllib2.HTTPError, error:
	contents = error.read()
print contents